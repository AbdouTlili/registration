{% extends "base_tabs.html" %}
{% load static %}
{% block extra_head %}
    <script > window.CSRF_TOKEN = "{{ csrf_token }}"</script>

    <!--hardware/static/admin.js-->
    <script>
        document.addEventListener("DOMContentLoaded", ()=>{
            $("#hw-send").on("click", ()=>{
                console.log("click send")
                $.ajax({
                    method: 'POST',
                    data: {
                        'getlist': true,
                        'email': $("#id_email").val(),
                        'csrfmiddlewaretoken': window.CSRF_TOKEN
                    },
                    dataType: 'json',
                    success: function(data){
                        console.log(data)

                    }
                    
                })
            })
        })
    </script>
{% endblock %}
{% block head_title %}Hardware Admin{% endblock %}
{% block panel %}
<h1>If the hacker has a request or he is returning an item:</h1>
<div>
    <label>Hacker email:</label>
    <input id="id_email" name="email" type="email"/>
    <button id="hw-send">Send</button>
</div>
<h1>If the hacker doesn't have a request:</h1>
<ul>
    {% for item in hw_list %}
        <li>
            {% include 'include/item.html'%}
        </li>
    {% empty %}
        <li>There's no hardware yet</li>
    {% endfor %}
</ul>
{% endblock %}